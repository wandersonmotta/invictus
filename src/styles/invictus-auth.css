/* Auth pages - background vem do componente AuthBackground.tsx */
.invictus-auth-page-content {
  position: relative;
  isolation: isolate;
}

/* ========================================================
   LANDING PAGE - OTIMIZADO PARA PERFORMANCE
   ========================================================
   A imagem de fundo vem EXCLUSIVAMENTE do componente
   LandingBackground.tsx. O CSS aqui apenas adiciona
   overlays leves para legibilidade.
   ======================================================== */

/* Landing page: SEM background-image (usa <img> do componente) */
.invictus-landing-page {
  position: relative;
  isolation: isolate;
  /* Imagem vem do LandingBackground.tsx - não duplicar aqui */
}

/* Body durante landing: apenas cor base (imagem vem do componente) */
body.invictus-landing-body {
  background-color: hsl(var(--background));
  /* Removido: background-image duplicado que causava recarregamento */
}

/* Conteúdo sempre acima do overlay */
.invictus-landing-page > * {
  position: relative;
  z-index: 1;
}

/* Overlay estático simplificado - SEM animação contínua */
.invictus-landing-page::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  
  /* Apenas 2 gradientes essenciais (vs 5+ anteriores) */
  background:
    /* vinheta suave nas bordas */
    radial-gradient(1400px 900px at 50% 20%, transparent 55%, hsl(var(--background) / 0.28) 100%),
    /* grain sutil estático (sem animação) */
    repeating-linear-gradient(
      0deg,
      hsl(var(--foreground) / 0.03) 0px,
      hsl(var(--foreground) / 0.03) 1px,
      transparent 1px,
      transparent 4px
    );
  
  /* Removido: mix-blend-mode (causa recomposição constante) */
  /* Removido: animation (causa trabalho contínuo do browser) */
  opacity: 0.35;
  transform: translateZ(0); /* GPU layer */
  background-size: auto, 200px 200px;
}

/* Subtítulos com presença (padrão editorial) */
.invictus-subtitle {
  font-size: 0.8125rem;
  line-height: 1.1;
  font-weight: 650;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: hsl(var(--muted-foreground));
}

@media (min-width: 640px) {
  .invictus-subtitle {
    font-size: 0.875rem;
  }
}

/* ========================================================
   STAGGER INTERNO - Textos e itens aparecem em sequência
   ======================================================== */
.invictus-reveal-scope .invictus-stagger > * {
  opacity: 0;
  transform: translateY(16px);
}

/* ========================================================
   STAGGER PREMIUM - Cards entrando da DIREITA com "encaixe"
   ======================================================== */
.invictus-reveal-scope .invictus-stagger--lr > * {
  --invictus-d: 0ms;
  opacity: 0;
  transform: translateX(60px) translateY(8px);
  will-change: opacity, transform;
}

@media (min-width: 768px) {
  .invictus-reveal-scope .invictus-stagger--lr > * {
    transform: translateX(70px) translateY(10px);
    filter: blur(0.4px);
  }
}

/* Animação de encaixe com overshoot */
.invictus-revealed .invictus-stagger--lr > * {
  animation: invictus-card-slide-in 650ms cubic-bezier(0.34, 1.56, 0.64, 1) both;
}

@media (min-width: 768px) {
  .invictus-revealed .invictus-stagger--lr > * {
    animation-duration: 720ms;
  }
}

@keyframes invictus-card-slide-in {
  0% {
    opacity: 0;
    transform: translateX(60px) translateY(8px);
    filter: blur(0.4px);
  }
  65% {
    opacity: 1;
    transform: translateX(-6px) translateY(0);
    filter: blur(0);
  }
  100% {
    opacity: 1;
    transform: translateX(0) translateY(0);
    filter: blur(0);
  }
}

/* Sistema de delay stagger (120ms entre cards para ser perceptível) */
.invictus-revealed .invictus-stagger--lr > *:nth-child(1) {
  animation-delay: 80ms;
  --invictus-d: 80ms;
}
.invictus-revealed .invictus-stagger--lr > *:nth-child(2) {
  animation-delay: 200ms;
  --invictus-d: 200ms;
}
.invictus-revealed .invictus-stagger--lr > *:nth-child(3) {
  animation-delay: 320ms;
  --invictus-d: 320ms;
}
.invictus-revealed .invictus-stagger--lr > *:nth-child(4) {
  animation-delay: 440ms;
  --invictus-d: 440ms;
}
.invictus-revealed .invictus-stagger--lr > *:nth-child(5) {
  animation-delay: 560ms;
  --invictus-d: 560ms;
}
.invictus-revealed .invictus-stagger--lr > *:nth-child(6) {
  animation-delay: 680ms;
  --invictus-d: 680ms;
}
.invictus-revealed .invictus-stagger--lr > *:nth-child(7) {
  animation-delay: 800ms;
  --invictus-d: 800ms;
}
.invictus-revealed .invictus-stagger--lr > *:nth-child(8) {
  animation-delay: 920ms;
  --invictus-d: 920ms;
}
.invictus-revealed .invictus-stagger--lr > *:nth-child(9) {
  animation-delay: 1040ms;
  --invictus-d: 1040ms;
}
.invictus-revealed .invictus-stagger--lr > *:nth-child(10) {
  animation-delay: 1160ms;
  --invictus-d: 1160ms;
}
.invictus-revealed .invictus-stagger--lr > *:nth-child(11) {
  animation-delay: 1280ms;
  --invictus-d: 1280ms;
}
.invictus-revealed .invictus-stagger--lr > *:nth-child(12) {
  animation-delay: 1400ms;
  --invictus-d: 1400ms;
}

/* Stagger vertical padrão (para textos/listas) */
.invictus-revealed .invictus-stagger > * {
  animation: invictus-stagger-in 560ms cubic-bezier(0.2, 0.8, 0.2, 1) both;
}

@keyframes invictus-stagger-in {
  from {
    opacity: 0;
    transform: translateY(16px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ========================================================
   REVEAL PREMIUM - Seções/painéis com mais presença
   ======================================================== */
.invictus-reveal {
  opacity: 0;
  transform: translateY(22px);
  filter: blur(0.5px);
  transition:
    opacity 700ms cubic-bezier(0.2, 0.8, 0.2, 1),
    transform 700ms cubic-bezier(0.2, 0.8, 0.2, 1),
    filter 700ms cubic-bezier(0.2, 0.8, 0.2, 1);
  will-change: opacity, transform, filter;
}

.invictus-reveal.invictus-revealed {
  opacity: 1;
  transform: none;
  filter: none;
}

/* Delays para stagger vertical (90ms entre itens) */
.invictus-revealed .invictus-stagger > *:nth-child(1) {
  animation-delay: 90ms;
}
.invictus-revealed .invictus-stagger > *:nth-child(2) {
  animation-delay: 180ms;
}
.invictus-revealed .invictus-stagger > *:nth-child(3) {
  animation-delay: 270ms;
}
.invictus-revealed .invictus-stagger > *:nth-child(4) {
  animation-delay: 360ms;
}
.invictus-revealed .invictus-stagger > *:nth-child(5) {
  animation-delay: 450ms;
}
.invictus-revealed .invictus-stagger > *:nth-child(6) {
  animation-delay: 540ms;
}
.invictus-revealed .invictus-stagger > *:nth-child(7) {
  animation-delay: 630ms;
}
.invictus-revealed .invictus-stagger > *:nth-child(8) {
  animation-delay: 720ms;
}
.invictus-revealed .invictus-stagger > *:nth-child(9) {
  animation-delay: 810ms;
}
.invictus-revealed .invictus-stagger > *:nth-child(10) {
  animation-delay: 900ms;
}
.invictus-revealed .invictus-stagger > *:nth-child(11) {
  animation-delay: 990ms;
}
.invictus-revealed .invictus-stagger > *:nth-child(12) {
  animation-delay: 1080ms;
}

/* ========================================================
   ACESSIBILIDADE - Respeitar preferência de movimento
   ======================================================== */
@media (prefers-reduced-motion: reduce) {
  .invictus-landing-card--lift {
    transition: none !important;
  }

  .invictus-landing-card--lift:hover {
    transform: none !important;
  }

  .invictus-landing-page::after {
    animation: none;
    opacity: 0.32;
  }

  .invictus-reveal,
  .invictus-media-reveal {
    opacity: 1;
    transform: none;
    filter: none;
    transition: none;
  }

  .invictus-media-reveal img {
    transform: none;
    transition: none;
  }

  .invictus-reveal-scope .invictus-stagger > *,
  .invictus-reveal-scope .invictus-stagger--lr > * {
    opacity: 1;
    transform: none;
    filter: none;
  }

  .invictus-revealed .invictus-stagger > *,
  .invictus-revealed .invictus-stagger--lr > * {
    animation: none;
  }

  .invictus-icon-plate {
    animation: none !important;
    transform: none !important;
    filter: none !important;
    opacity: 1 !important;
  }
}

/* Lightweight readable "squares" for landing sections */
.invictus-landing-panel {
  position: relative;
  overflow: hidden;
  border: 1px solid hsl(var(--border) / 0.55);
  border-radius: 1.25rem;
  background:
    radial-gradient(900px 420px at 12% 0%, hsl(var(--foreground) / 0.08), transparent 60%),
    linear-gradient(180deg, hsl(var(--background) / 0.66), hsl(var(--background) / 0.42));
  box-shadow:
    0 20px 80px -40px hsl(var(--foreground) / 0.55),
    0 0 0 1px hsl(var(--primary) / 0.08) inset;
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(10px);
  padding: 1.5rem;
}

@media (min-width: 640px) {
  .invictus-landing-panel {
    padding: 2rem;
  }
}

@media (min-width: 1024px) {
  .invictus-landing-panel {
    padding: 2.25rem 2.5rem;
  }
}

/* Assinatura Invictus (título + separador) */
.invictus-section-eyebrow {
  font-size: 0.6875rem;
  line-height: 1.1;
  font-weight: 650;
  letter-spacing: 0.42em;
  text-transform: uppercase;
  color: hsl(var(--muted-foreground) / 0.95);
}

.invictus-landing-title {
  letter-spacing: -0.01em;
}

.invictus-section-separator {
  height: 1px;
  width: 28%;
  max-width: 220px;
  background: linear-gradient(
    90deg,
    transparent,
    hsl(var(--gold-hot) / 0.55),
    hsl(var(--gold-soft) / 0.25),
    transparent
  );
  filter: blur(0px);
  opacity: 0.95;
}

/* Opções de densidade para evitar poluição: use só onde precisa */
.invictus-landing-panel--soft {
  background:
    radial-gradient(900px 420px at 12% 0%, hsl(var(--foreground) / 0.06), transparent 60%),
    linear-gradient(180deg, hsl(var(--background) / 0.58), hsl(var(--background) / 0.36));
}

.invictus-landing-panel--strong {
  background:
    radial-gradient(900px 420px at 12% 0%, hsl(var(--foreground) / 0.10), transparent 60%),
    linear-gradient(180deg, hsl(var(--background) / 0.80), hsl(var(--background) / 0.62));
  border-color: hsl(var(--border) / 0.7);
  box-shadow:
    0 26px 110px -60px hsl(var(--foreground) / 0.6),
    0 0 0 1px hsl(var(--primary) / 0.12) inset;
}

/* brilho dourado bem sutil (não "borda" óbvia) */
.invictus-landing-panel::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background:
    radial-gradient(520px 260px at 18% 10%, hsl(var(--primary) / 0.12), transparent 62%),
    radial-gradient(420px 220px at 84% 0%, hsl(var(--primary) / 0.08), transparent 60%);
  opacity: 0.9;
}

/* Moldura champagne + highlights internos (tira "cara de slide") */
.invictus-landing-panel::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  padding: 1px;
  background: linear-gradient(
    135deg,
    hsl(var(--gold-soft) / 0.08),
    hsl(var(--gold-hot) / 0.28) 35%,
    hsl(var(--gold-soft) / 0.16) 70%,
    hsl(var(--gold-hot) / 0.18)
  );
  -webkit-mask:
    linear-gradient(#000 0 0) content-box,
    linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  opacity: 0.9;
}

.invictus-landing-panel > * {
  position: relative;
  z-index: 1;
}

/* Cards premium internos */
.invictus-landing-card {
  position: relative;
  overflow: hidden;
  border-radius: 1rem;
  border: 1px solid hsl(var(--border) / 0.55);
  background:
    radial-gradient(700px 320px at 10% 0%, hsl(var(--foreground) / 0.08), transparent 60%),
    linear-gradient(180deg, hsl(var(--background) / 0.52), hsl(var(--background) / 0.34));
  box-shadow:
    0 18px 70px -48px hsl(var(--foreground) / 0.55),
    0 0 0 1px hsl(var(--primary) / 0.08) inset;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

/* ========================================================
   HOVER “PUXAR PRA FRENTE” (desktop-only)
   - aplicado APENAS onde a classe --lift for usada
   - não afeta touch/mobile
   ======================================================== */

@media (hover: hover) and (pointer: fine) {
  .invictus-landing-card--lift {
    transition:
      transform 220ms cubic-bezier(0.2, 0.8, 0.2, 1),
      box-shadow 220ms cubic-bezier(0.2, 0.8, 0.2, 1);
    will-change: transform;
    transform: translateZ(0);
  }

  .invictus-landing-card--lift:hover {
    transform: translateY(-6px) perspective(900px) translateZ(14px) scale(1.02);
    box-shadow:
      0 26px 92px -54px hsl(var(--foreground) / 0.65),
      0 0 0 1px hsl(var(--primary) / 0.12) inset,
      0 0 0 1px hsl(var(--border) / 0.55);
  }
}

.invictus-landing-card::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background:
    radial-gradient(440px 220px at 14% 10%, hsl(var(--primary) / 0.10), transparent 62%),
    linear-gradient(180deg, hsl(var(--foreground) / 0.08), transparent 42%);
  mix-blend-mode: screen;
  opacity: 0.75;
}

.invictus-landing-card > * {
  position: relative;
  z-index: 1;
}

/* ========================================================
   ÍCONES "LED" - Acendem dourado quando o card encaixa
   ======================================================== */
.invictus-icon-plate {
  position: relative;
  border-radius: 0.75rem;
  border: 1px solid hsl(var(--border) / 0.55);
  background:
    linear-gradient(
      135deg,
      hsl(var(--foreground) / 0.14),
      hsl(var(--foreground) / 0.06) 35%,
      hsl(var(--gold-hot) / 0.08)
    );
  box-shadow:
    0 1px 0 0 hsl(var(--foreground) / 0.14) inset,
    0 0 0 1px hsl(var(--gold-soft) / 0.08) inset,
    0 14px 40px -28px hsl(var(--foreground) / 0.55);
}

/* Estado inicial: ícone invisível */
.invictus-reveal-scope .invictus-stagger--lr > * .invictus-icon-plate {
  opacity: 0;
  transform: scale(0.85);
  will-change: transform, opacity, box-shadow, background;
}

/* Animação de "acender LED" */
.invictus-revealed .invictus-stagger--lr > * .invictus-icon-plate {
  animation: invictus-icon-glow 600ms cubic-bezier(0.34, 1.56, 0.64, 1) both;
  animation-delay: calc(var(--invictus-d) + 180ms);
}

@media (min-width: 768px) {
  .invictus-revealed .invictus-stagger--lr > * .invictus-icon-plate {
    animation-duration: 680ms;
    animation-delay: calc(var(--invictus-d) + 200ms);
  }
}

@keyframes invictus-icon-glow {
  0% {
    opacity: 0;
    transform: scale(0.85);
    background:
      linear-gradient(
        135deg,
        hsl(var(--foreground) / 0.14),
        hsl(var(--foreground) / 0.06) 35%,
        hsl(var(--gold-hot) / 0.08)
      );
    box-shadow:
      0 1px 0 0 hsl(var(--foreground) / 0.14) inset,
      0 0 0 1px hsl(var(--gold-soft) / 0.08) inset,
      0 14px 40px -28px hsl(var(--foreground) / 0.55);
  }
  55% {
    opacity: 1;
    transform: scale(1.04);
    background:
      linear-gradient(
        135deg,
        hsl(var(--gold-hot) / 0.28),
        hsl(var(--gold-soft) / 0.18) 50%,
        hsl(var(--gold-hot) / 0.24)
      );
    box-shadow:
      0 0 0 1px hsl(var(--gold-hot) / 0.55) inset,
      0 0 28px -4px hsl(var(--gold-hot) / 0.80),
      0 0 44px -10px hsl(var(--gold-hot) / 0.55);
  }
  100% {
    opacity: 1;
    transform: scale(1);
    /* ESTADO PERMANENTE: LED ligado */
    background:
      linear-gradient(
        135deg,
        hsl(var(--gold-hot) / 0.22),
        hsl(var(--gold-soft) / 0.14) 50%,
        hsl(var(--gold-hot) / 0.18)
      );
    box-shadow:
      0 0 0 1px hsl(var(--gold-hot) / 0.45) inset,
      0 0 18px -4px hsl(var(--gold-hot) / 0.65),
      0 0 30px -8px hsl(var(--gold-hot) / 0.45);
  }
}

.invictus-icon-plate::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  background: linear-gradient(180deg, hsl(var(--foreground) / 0.10), transparent 55%);
  opacity: 0.9;
}

/* CTA premium (aplicar só na landing via className) */
.invictus-cta {
  position: relative;
  overflow: hidden;
  transform: translateZ(0);
  transition:
    transform 260ms cubic-bezier(0.2, 0.8, 0.2, 1),
    box-shadow 320ms cubic-bezier(0.2, 0.8, 0.2, 1),
    filter 320ms cubic-bezier(0.2, 0.8, 0.2, 1);
  box-shadow:
    0 0 0 1px hsl(var(--gold-hot) / 0.55) inset,
    0 18px 70px -52px hsl(var(--foreground) / 0.65),
    0 0 90px -58px hsl(var(--gold-hot) / 0.55);
}

.invictus-cta::before {
  content: "";
  position: absolute;
  inset: -2px;
  pointer-events: none;
  z-index: 0;
  background:
    radial-gradient(420px 220px at 18% 10%, hsl(var(--foreground) / 0.18), transparent 60%),
    linear-gradient(180deg, hsl(var(--foreground) / 0.14), transparent 48%);
  opacity: 0.85;
}

/* Sheen discreto no hover (luxo, não chamativo) */
.invictus-cta::after {
  content: "";
  position: absolute;
  top: -30%;
  bottom: -30%;
  left: -60%;
  width: 45%;
  pointer-events: none;
  z-index: 0;
  background: linear-gradient(90deg, transparent, hsl(var(--gold-soft) / 0.18), transparent);
  transform: translateX(-120%) rotate(12deg);
  transition: transform 700ms cubic-bezier(0.2, 0.8, 0.2, 1);
  opacity: 0;
}

.invictus-cta > * {
  position: relative;
  z-index: 1;
}

.invictus-cta--outline {
  box-shadow:
    0 0 0 1px hsl(var(--gold-hot) / 0.65) inset,
    0 18px 70px -52px hsl(var(--foreground) / 0.65),
    0 0 90px -58px hsl(var(--gold-hot) / 0.40);
}

@media (min-width: 768px) {
  .invictus-cta:hover {
    box-shadow:
      0 0 0 1px hsl(var(--gold-hot) / 0.72) inset,
      0 22px 90px -58px hsl(var(--foreground) / 0.70),
      0 0 110px -56px hsl(var(--gold-hot) / 0.58);
  }

  .invictus-cta:hover::after {
    opacity: 1;
    transform: translateX(320%) rotate(12deg);
  }
}

.invictus-cta:active {
  transform: translateY(1px) scale(0.995);
  filter: brightness(0.98);
}

/* Reveal premium para mídias (foto) */
.invictus-media-reveal {
  opacity: 0;
  transform: translateY(10px) scale(1.01);
  filter: blur(0.55px);
  transition:
    opacity 620ms cubic-bezier(0.2, 0.8, 0.2, 1),
    transform 620ms cubic-bezier(0.2, 0.8, 0.2, 1),
    filter 620ms cubic-bezier(0.2, 0.8, 0.2, 1);
  will-change: opacity, transform, filter;
}

.invictus-media-reveal img {
  transform: scale(1.02);
  transition: transform 760ms cubic-bezier(0.2, 0.8, 0.2, 1);
  will-change: transform;
}

.invictus-media-reveal.is-in {
  opacity: 1;
  transform: none;
  filter: none;
}

.invictus-media-reveal.is-in img {
  transform: scale(1);
}

@media (min-width: 640px) {
  .invictus-landing-panel {
    padding: 2rem;
  }
}

/* Subtle parallax on larger screens; avoid mobile perf issues */
@media (min-width: 768px) {
  .invictus-auth-page {
    background-attachment: scroll, scroll, scroll, scroll, fixed;
  }
}
